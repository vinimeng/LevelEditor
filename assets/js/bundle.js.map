{"version":3,"sources":["webpack://level-editor/./assets/ts/graphics/spritesheet.cheatsheet.ts","webpack://level-editor/./assets/ts/graphics/spritesheet.ts","webpack://level-editor/./assets/ts/main.ts","webpack://level-editor/./assets/ts/misc/constants.ts","webpack://level-editor/./assets/ts/misc/html.ts","webpack://level-editor/./assets/ts/world/element.ts","webpack://level-editor/webpack/bootstrap","webpack://level-editor/webpack/startup"],"names":["Object","defineProperty","exports","value","SPRITESCOORD","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","main_1","constants_1","spritesheet_cheatsheet_1","Spritesheet","spritesheet","setSpritesheet","grid","setGrid","sprite","cutSprite","player","name","spriteName","wall","spriteCoord","push","floor","interactable","interactable_anim","interactableAnim","doors","weapon","potion","enemy","document","createElement","onload","onerror","src","SPRITESHEET","img","size","TILE_SIZE","default","scale","svg","Blob","type","url","window","URL","createObjectURL","x","y","width","height","createImageBitmap","Array","_a","spritesheet_1","html_1","element_1","Game","WIDTH","HEIGHT","appDiv","getElementById","divCanvas","canvas","context2D","getContext","determineScale","state","GameState","PLAY","html","isRunning","canvasDragged","mouseDown","loadAssets","createElements","tempData","localStorage","getItem","json","JSON","parse","element","String","elements","parseInt","id","index","initializeEvents","adjustCanvas","drawBackground","run","i","length","tick","render","self","frames","last","requestAnimationFrame","loop","now","spanFPS","style","display","innerText","imageSmoothingEnabled","fillStyle","fillRect","drawImage","divWidth","offsetWidth","divHeight","offsetHeight","finalScale","Math","addEventListener","preventDefault","sprtIndex","Number","dragged","dataset","sprtArray","array","scrollTop","parentElement","round","offsetX","dragEvent","clientX","offsetLeft","offsetY","clientY","offsetTop","nameW","sprtW","nameF","sprtF","nameI","sprtI","nameIA","sprtIA","nameD","sprtD","nameWe","sprtWe","nameP","sprtP","nameE","sprtE","namePl","sprtPl","mouseX","mouseY","outerX","outerY","diffX","diffY","drawWithOpacity","splice","setInterval","setItem","stringify","loadSprites","btnCredits","divInputs","inputWidth","inputHeight","main","modalCredits","btnToggleFPS","divBreakWallBefore","className","spanWall","innerHTML","divBreakWallAfter","append","forEach","appendElements","divBreakFloorBefore","spanFloor","divBreakFloorAfter","divBreakInteractableBefore","spanInteractable","divBreakInteractableAfter","divBreakInteractableAnimBefore","spanInteractableAnim","divBreakInteractableAnimAfter","divBreakDoorsBefore","spanDoors","divBreakDoorsAfter","divBreakWeaponBefore","spanWeapon","divBreakWeaponAfter","divBreakPotionBefore","spanPotion","divBreakPotionAfter","divBreakEnemyBefore","spanEnemy","divBreakEnemyAfter","divBreakPlayerBefore","spanPlayer","divBreakPlayerAfter","draggable","margin","title","ctx","globalAlpha","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call"],"mappings":"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","file":"bundle.js","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SPRITESCOORD = void 0;\r\nexports.SPRITESCOORD = {\r\n    'wall': {\r\n        'wall_top_left': [16, 0, 16, 16],\r\n        'wall_top_mid': [16, 0, 16, 16],\r\n        'wall_top_right': [16, 0, 16, 16],\r\n        'wall_left': [16, 16, 16, 16],\r\n        'wall_mid': [32, 16, 16, 16],\r\n        'wall_right': [48, 16, 16, 16],\r\n        'wall_fountain_top': [64, 0, 16, 16],\r\n        'wall_fountain_mid_red_anim_1': [64, 16, 16, 16],\r\n        'wall_fountain_mid_red_anim_2': [80, 16, 16, 16],\r\n        'wall_fountain_mid_red_anim_3': [96, 16, 16, 16],\r\n        'wall_fountain_basin_red_anim_1': [64, 32, 16, 16],\r\n        'wall_fountain_basin_red_anim_2': [80, 32, 16, 16],\r\n        'wall_fountain_basin_red_anim_3': [96, 32, 16, 16],\r\n        'wall_fountain_mid_blue_anim_1': [64, 48, 16, 16],\r\n        'wall_fountain_mid_blue_anim_2': [80, 48, 16, 16],\r\n        'wall_fountain_mid_blue_anim_3': [96, 48, 16, 16],\r\n        'wall_fountain_basin_blue_anim_1': [64, 64, 16, 16],\r\n        'wall_fountain_basin_blue_anim_2': [80, 64, 16, 16],\r\n        'wall_fountain_basin_blue_anim_3': [96, 64, 16, 16],\r\n        'wall_hole_1': [48, 32, 16, 16],\r\n        'wall_hole_2': [48, 48, 16, 16],\r\n        'wall_banner_red': [16, 32, 16, 16],\r\n        'wall_banner_blue': [32, 32, 16, 16],\r\n        'wall_banner_green': [16, 48, 16, 16],\r\n        'wall_banner_yellow': [32, 48, 16, 16],\r\n        'wall_column_top': [96, 80, 16, 16],\r\n        'wall_column_mid': [96, 96, 16, 16],\r\n        'wall_column_base': [96, 112, 16, 16],\r\n        'wall_goo': [64, 80, 16, 16],\r\n        'wall_side_top_left': [0, 112, 16, 16],\r\n        'wall_side_top_right': [16, 112, 16, 16],\r\n        'wall_side_mid_left': [0, 128, 16, 16],\r\n        'wall_side_mid_right': [16, 128, 16, 16],\r\n        'wall_side_front_left': [0, 144, 16, 16],\r\n        'wall_side_front_right': [16, 144, 16, 16],\r\n        'wall_corner_top_left': [32, 112, 16, 16],\r\n        'wall_corner_top_right': [48, 112, 16, 16],\r\n        'wall_corner_left': [32, 128, 16, 16],\r\n        'wall_corner_right': [48, 128, 16, 16],\r\n        'wall_corner_bottom_left': [32, 144, 16, 16],\r\n        'wall_corner_bottom_right': [48, 144, 16, 16],\r\n        'wall_corner_front_left': [32, 160, 16, 16],\r\n        'wall_corner_front_right': [48, 160, 16, 16],\r\n        'wall_inner_corner_l_top_left': [80, 128, 16, 16],\r\n        'wall_inner_corner_l_top_right': [64, 128, 16, 16],\r\n        'wall_inner_corner_mid_left': [80, 144, 16, 16],\r\n        'wall_inner_corner_mid_right': [64, 144, 16, 16],\r\n        'wall_inner_corner_t_top_left': [80, 160, 16, 16],\r\n        'wall_inner_corner_t_top_right': [64, 160, 16, 16],\r\n        'crate': [288, 298, 16, 22],\r\n        'column_top': [80, 80, 16, 16],\r\n        'column_mid': [80, 96, 16, 16],\r\n        'column_base': [80, 112, 16, 16],\r\n    },\r\n    'floor': {\r\n        'floor_1': [16, 64, 16, 16],\r\n        'floor_2': [32, 64, 16, 16],\r\n        'floor_3': [48, 64, 16, 16],\r\n        'floor_4': [16, 80, 16, 16],\r\n        'floor_5': [32, 80, 16, 16],\r\n        'floor_6': [48, 80, 16, 16],\r\n        'floor_7': [16, 96, 16, 16],\r\n        'floor_8': [32, 96, 16, 16],\r\n        'wall_goo_base': [64, 96, 16, 16],\r\n        'skull': [288, 320, 16, 16],\r\n    },\r\n    'interactable': {\r\n        'floor_ladder': [48, 96, 16, 16],\r\n        'hole': [96, 144, 16, 16],\r\n        'edge': [96, 128, 16, 16],\r\n    },\r\n    'interactable_anim': {\r\n        'spikes': [16, 176, 16, 16],\r\n        'switch_red': [16, 192, 16, 16],\r\n        'switch_blue': [48, 192, 16, 16],\r\n        'lever': [80, 192, 16, 16],\r\n        'chest_empty': [320, 288, 16, 16],\r\n        'chest_full': [320, 304, 16, 16],\r\n        'chest_mimic': [320, 320, 16, 16],\r\n        'coin': [288, 272, 8, 8],\r\n    },\r\n    'doors': {\r\n        'doors_all': [16, 221, 64, 35],\r\n        'doors_frame_left': [16, 224, 16, 32],\r\n        'doors_frame_top': [32, 221, 32, 3],\r\n        'doors_frame_right:': [63, 224, 16, 32],\r\n        'doors_leaf_closed': [32, 224, 32, 32],\r\n        'doors_leaf_open': [80, 224, 32, 32],\r\n    },\r\n    'weapon': {\r\n        'weapon_knife': [293, 18, 6, 13],\r\n        'weapon_rusty_sword': [307, 26, 10, 21],\r\n        'weapon_regular_sword': [323, 26, 10, 21],\r\n        'weapon_red_gem_sword': [339, 26, 10, 21],\r\n        'weapon_big_hammer': [291, 42, 10, 37],\r\n        'weapon_hammer': [307, 55, 10, 24],\r\n        'weapon_baton_with_spikes': [323, 57, 10, 22],\r\n        'weapon_mace': [339, 55, 10, 24],\r\n        'weapon_katana': [293, 82, 6, 29],\r\n        'weapon_saw_sword': [307, 86, 10, 25],\r\n        'weapon_anime_sword': [322, 81, 12, 30],\r\n        'weapon_axe': [341, 90, 9, 21],\r\n        'weapon_machete': [294, 121, 5, 22],\r\n        'weapon_cleaver': [310, 124, 8, 19],\r\n        'weapon_duel_sword': [325, 113, 9, 30],\r\n        'weapon_knight_sword': [339, 114, 10, 29],\r\n        'weapon_golden_sword': [291, 153, 10, 22],\r\n        'weapon_lavish_sword': [307, 145, 10, 30],\r\n        'weapon_red_magic_staff': [324, 145, 8, 30],\r\n        'weapon_green_magic_staff': [340, 145, 8, 30],\r\n        'weapon_spear': [293, 177, 6, 30],\r\n    },\r\n    'potion': {\r\n        'flask_big_red': [288, 224, 16, 16],\r\n        'flask_big_blue': [304, 224, 16, 16],\r\n        'flask_big_green': [320, 224, 16, 16],\r\n        'flask_big_yellow': [336, 224, 16, 16],\r\n        'flask_red': [288, 240, 16, 16],\r\n        'flask_blue': [304, 240, 16, 16],\r\n        'flask_green': [320, 240, 16, 16],\r\n        'flask_yellow': [336, 240, 16, 16],\r\n    },\r\n    'enemy': {\r\n        'tiny_zombie': [368, 16, 16, 16],\r\n        'goblin': [368, 32, 16, 16],\r\n        'imp': [368, 48, 16, 16],\r\n        'skelet': [368, 80, 16, 16],\r\n        'muddy': [368, 112, 16, 16],\r\n        'swampy': [432, 112, 16, 16],\r\n        'zombie': [368, 144, 16, 16],\r\n        'ice_zombie': [432, 144, 16, 16],\r\n        'masked_orc': [368, 172, 16, 20],\r\n        'orc_warrior': [368, 204, 16, 20],\r\n        'orc_shaman': [368, 236, 16, 20],\r\n        'necromancer': [368, 268, 16, 20],\r\n        'wogol': [368, 300, 16, 20],\r\n        'chort': [368, 328, 16, 24],\r\n        'big_zombie': [16, 270, 32, 34],\r\n        'ogre': [16, 320, 32, 32],\r\n        'big_demon': [16, 364, 32, 36],\r\n    },\r\n    'player': [128, 228, 16, 28]\r\n};\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst main_1 = __importDefault(require(\"../main\"));\r\nconst constants_1 = require(\"../misc/constants\");\r\nconst spritesheet_cheatsheet_1 = require(\"./spritesheet.cheatsheet\");\r\nclass Spritesheet {\r\n    loadSprites() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const spritesheet = yield this.setSpritesheet();\r\n            Spritesheet.grid = yield this.setGrid();\r\n            let sprite = yield this.cutSprite(spritesheet, spritesheet_cheatsheet_1.SPRITESCOORD.player[0], spritesheet_cheatsheet_1.SPRITESCOORD.player[1], spritesheet_cheatsheet_1.SPRITESCOORD.player[2], spritesheet_cheatsheet_1.SPRITESCOORD.player[3]);\r\n            Spritesheet.player = {\r\n                name: 'player',\r\n                sprite: sprite\r\n            };\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.wall) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.wall[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const wall = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.wall.push(wall);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.floor) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.floor[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const floor = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.floor.push(floor);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.interactable) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.interactable[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const interactable = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.interactable.push(interactable);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.interactable_anim) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.interactable_anim[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const interactableAnim = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.interactableAnim.push(interactableAnim);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.doors) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.doors[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const doors = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.doors.push(doors);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.weapon) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.weapon[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const weapon = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.weapon.push(weapon);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.potion) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.potion[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const potion = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.potion.push(potion);\r\n            }\r\n            for (const spriteName in spritesheet_cheatsheet_1.SPRITESCOORD.enemy) {\r\n                const spriteCoord = spritesheet_cheatsheet_1.SPRITESCOORD.enemy[spriteName];\r\n                const sprt = yield this.cutSprite(spritesheet, spriteCoord[0], spriteCoord[1], spriteCoord[2], spriteCoord[3]);\r\n                const enemy = {\r\n                    name: spriteName,\r\n                    sprite: sprt\r\n                };\r\n                Spritesheet.enemy.push(enemy);\r\n            }\r\n        });\r\n    }\r\n    setSpritesheet() {\r\n        const spritesheet = document.createElement('img');\r\n        return new Promise((resolve, reject) => {\r\n            spritesheet.onload = () => resolve(spritesheet);\r\n            spritesheet.onerror = reject;\r\n            spritesheet.src = constants_1.SPRITESHEET;\r\n        });\r\n    }\r\n    setGrid() {\r\n        const img = document.createElement('img');\r\n        const size = constants_1.TILE_SIZE * main_1.default.scale;\r\n        const svg = new Blob([\r\n            `\r\n                <svg width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <defs>\r\n                    <pattern id=\"grid\" width=\"${size}\" height=\"${size}\" patternUnits=\"userSpaceOnUse\">\r\n                        <path d=\"M ${size} 0 L 0 0 0 ${size}\" fill=\"none\" stroke=\"rgba(187, 128, 130, 0.4)\" stroke-width=\"${main_1.default.scale}\"/>\r\n                    </pattern>\r\n                    </defs>\r\n                    <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"/>\r\n                </svg>\r\n            `\r\n        ], { type: 'image/svg+xml;charset=utf-8' });\r\n        const url = window.URL.createObjectURL(svg);\r\n        return new Promise((resolve, reject) => {\r\n            img.onload = () => resolve(img);\r\n            img.onerror = reject;\r\n            img.src = url;\r\n        });\r\n    }\r\n    cutSprite(spritesheet, x, y, width, height) {\r\n        return createImageBitmap(spritesheet, x, y, width, height);\r\n    }\r\n}\r\nexports.default = Spritesheet;\r\nSpritesheet.wall = new Array();\r\nSpritesheet.floor = new Array();\r\nSpritesheet.interactable = new Array();\r\nSpritesheet.interactableAnim = new Array();\r\nSpritesheet.doors = new Array();\r\nSpritesheet.weapon = new Array();\r\nSpritesheet.potion = new Array();\r\nSpritesheet.enemy = new Array();\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst spritesheet_1 = __importDefault(require(\"./graphics/spritesheet\"));\r\nconst constants_1 = require(\"./misc/constants\");\r\nconst html_1 = __importDefault(require(\"./misc/html\"));\r\nconst element_1 = __importDefault(require(\"./world/element\"));\r\nclass Game {\r\n    constructor(width, height) {\r\n        Game.WIDTH = width;\r\n        Game.HEIGHT = height;\r\n        this.spritesheet = new spritesheet_1.default();\r\n        this.appDiv = document.getElementById('app');\r\n        this.divCanvas = document.getElementById('divCanvas');\r\n        this.canvas = document.getElementById('canvas');\r\n        this.context2D = this.canvas.getContext('2d');\r\n        Game.scale = this.determineScale();\r\n        this.state = constants_1.GameState.PLAY;\r\n        this.html = new html_1.default(Game.scale);\r\n        this.isRunning = false;\r\n        Game.canvasDragged = null;\r\n        Game.mouseDown = null;\r\n    }\r\n    main() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.loadAssets();\r\n            this.html.createElements();\r\n            let tempData = window.localStorage.getItem('tempData');\r\n            if (tempData) {\r\n                let json = JSON.parse(tempData);\r\n                for (let element in json) {\r\n                    switch (String(json[element].type)) {\r\n                        case 'wall':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.wall[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'floor':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.floor[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'interactable':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.interactable[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'interactableAnim':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.interactableAnim[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'doors':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.doors[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'weapon':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.weapon[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'potion':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.potion[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'enemy':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.enemy[parseInt(json[element].index)].sprite, parseInt(json[element].x)));\r\n                            break;\r\n                        case 'player':\r\n                            Game.elements.push(new element_1.default(parseInt(json[element].x), parseInt(json[element].y), parseInt(json[element].width), parseInt(json[element].height), String(json[element].id), String(json[element].type), spritesheet_1.default.player.sprite, parseInt(json[element].x)));\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            this.initializeEvents();\r\n            this.adjustCanvas();\r\n            this.drawBackground();\r\n            this.run();\r\n        });\r\n    }\r\n    tick() {\r\n        for (let i = 0; i < Game.elements.length; i++) {\r\n            Game.elements[i].tick();\r\n        }\r\n    }\r\n    render() {\r\n        this.drawBackground();\r\n        for (let i = 0; i < Game.elements.length; i++) {\r\n            Game.elements[i].render(this.context2D);\r\n        }\r\n    }\r\n    run() {\r\n        let self = this;\r\n        let frames = 0;\r\n        let last = 0;\r\n        function loop(now) {\r\n            self.tick();\r\n            self.render();\r\n            if (self.html.spanFPS.style.display === 'block') {\r\n                frames++;\r\n                if (now - last > 1000) {\r\n                    self.html.spanFPS.innerText = `${frames}fps`;\r\n                    frames = 0;\r\n                    last = now;\r\n                }\r\n            }\r\n            if (self.isRunning) {\r\n                window.requestAnimationFrame(loop);\r\n            }\r\n        }\r\n        this.isRunning = true;\r\n        window.requestAnimationFrame(loop);\r\n    }\r\n    adjustCanvas() {\r\n        this.divCanvas.style.width = (constants_1.WIDTH * Game.scale) + 'px';\r\n        this.divCanvas.style.height = (constants_1.HEIGHT * Game.scale) + 'px';\r\n        this.canvas.width = Game.WIDTH * Game.scale;\r\n        this.canvas.height = Game.HEIGHT * Game.scale;\r\n        this.context2D.scale(Game.scale, Game.scale);\r\n        this.context2D.imageSmoothingEnabled = false;\r\n    }\r\n    drawBackground() {\r\n        this.context2D.fillStyle = 'black';\r\n        this.context2D.fillRect(0, 0, Game.WIDTH, Game.HEIGHT);\r\n        this.context2D.drawImage(spritesheet_1.default.grid, 0, 0, Game.WIDTH, Game.HEIGHT);\r\n    }\r\n    determineScale() {\r\n        const divWidth = this.appDiv.offsetWidth;\r\n        const divHeight = this.appDiv.offsetHeight;\r\n        let finalScale = divWidth / constants_1.WIDTH;\r\n        if (finalScale >= 1) {\r\n            finalScale = Math.floor(finalScale);\r\n            if (constants_1.WIDTH * finalScale > divWidth\r\n                || constants_1.HEIGHT * finalScale > divHeight) {\r\n                finalScale = finalScale - 1;\r\n            }\r\n        }\r\n        if (finalScale < 1 && finalScale >= 0.75) {\r\n            finalScale = 0.75;\r\n        }\r\n        else if (finalScale < 0.75 && finalScale >= 0.5) {\r\n            finalScale = 0.5;\r\n        }\r\n        else if (finalScale < 0.5) {\r\n            finalScale = 0.25;\r\n        }\r\n        return finalScale;\r\n    }\r\n    initializeEvents() {\r\n        window.addEventListener('resize', () => {\r\n            Game.scale = this.determineScale();\r\n            this.adjustCanvas();\r\n        });\r\n        this.canvas.addEventListener('dragover', (e) => {\r\n            e.preventDefault();\r\n            return false;\r\n        });\r\n        this.canvas.addEventListener('drop', (e) => {\r\n            const sprtIndex = Number(Game.dragged.dataset.index);\r\n            const sprtArray = String(Game.dragged.dataset.array);\r\n            const scrollTop = Game.dragged.parentElement ? Game.dragged.parentElement.scrollTop : 0;\r\n            const x = Math.round((e.offsetX - Game.dragEvent.clientX + Game.dragged.offsetLeft) / Game.scale);\r\n            const y = Math.round((e.offsetY - Game.dragEvent.clientY + Game.dragged.offsetTop - scrollTop) / Game.scale);\r\n            switch (sprtArray) {\r\n                case 'wall':\r\n                    const nameW = spritesheet_1.default.wall[sprtIndex].name;\r\n                    const sprtW = spritesheet_1.default.wall[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtW.width, sprtW.height, nameW, 'wall', sprtW, sprtIndex));\r\n                    break;\r\n                case 'floor':\r\n                    const nameF = spritesheet_1.default.floor[sprtIndex].name;\r\n                    const sprtF = spritesheet_1.default.floor[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtF.width, sprtF.height, nameF, 'floor', sprtF, sprtIndex));\r\n                    break;\r\n                case 'interactable':\r\n                    const nameI = spritesheet_1.default.interactable[sprtIndex].name;\r\n                    const sprtI = spritesheet_1.default.interactable[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtI.width, sprtI.height, nameI, 'interactable', sprtI, sprtIndex));\r\n                    break;\r\n                case 'interactableAnim':\r\n                    const nameIA = spritesheet_1.default.interactableAnim[sprtIndex].name;\r\n                    const sprtIA = spritesheet_1.default.interactableAnim[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtIA.width, sprtIA.height, nameIA, 'interactableAnim', sprtIA, sprtIndex));\r\n                    break;\r\n                case 'doors':\r\n                    const nameD = spritesheet_1.default.doors[sprtIndex].name;\r\n                    const sprtD = spritesheet_1.default.doors[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtD.width, sprtD.height, nameD, 'doors', sprtD, sprtIndex));\r\n                    break;\r\n                case 'weapon':\r\n                    const nameWe = spritesheet_1.default.weapon[sprtIndex].name;\r\n                    const sprtWe = spritesheet_1.default.weapon[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtWe.width, sprtWe.height, nameWe, 'weapon', sprtWe, sprtIndex));\r\n                    break;\r\n                case 'potion':\r\n                    const nameP = spritesheet_1.default.potion[sprtIndex].name;\r\n                    const sprtP = spritesheet_1.default.potion[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtP.width, sprtP.height, nameP, 'potion', sprtP, sprtIndex));\r\n                    break;\r\n                case 'enemy':\r\n                    const nameE = spritesheet_1.default.enemy[sprtIndex].name;\r\n                    const sprtE = spritesheet_1.default.enemy[sprtIndex].sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtE.width, sprtE.height, nameE, 'enemy', sprtE, sprtIndex));\r\n                    break;\r\n                case 'player':\r\n                    const namePl = spritesheet_1.default.player.name;\r\n                    const sprtPl = spritesheet_1.default.player.sprite;\r\n                    Game.elements.push(new element_1.default(x, y, sprtPl.width, sprtPl.height, namePl, 'enemy', sprtPl, sprtIndex));\r\n                    break;\r\n            }\r\n        });\r\n        this.canvas.addEventListener('mousedown', (e) => {\r\n            const mouseX = e.offsetX / Game.scale;\r\n            const mouseY = e.offsetY / Game.scale;\r\n            for (let i = Game.elements.length - 1; i >= 0; i--) {\r\n                const element = Game.elements[i];\r\n                const x = element.x;\r\n                const y = element.y;\r\n                const outerX = element.x + element.width;\r\n                const outerY = element.y + element.height;\r\n                if ((mouseX >= x && mouseX <= outerX) &&\r\n                    (mouseY >= y && mouseY <= outerY)) {\r\n                    Game.canvasDragged = element;\r\n                    Game.mouseDown = { diffX: x - mouseX, diffY: y - mouseY };\r\n                    element.drawWithOpacity = true;\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        this.canvas.addEventListener('mousemove', (e) => {\r\n            if (Game.mouseDown) {\r\n                const mouseX = (e.offsetX / Game.scale) + Game.mouseDown.diffX;\r\n                const mouseY = (e.offsetY / Game.scale) + Game.mouseDown.diffY;\r\n                if (Game.canvasDragged) {\r\n                    Game.canvasDragged.x = mouseX;\r\n                    Game.canvasDragged.y = mouseY;\r\n                }\r\n            }\r\n        });\r\n        this.canvas.addEventListener('mouseup', (e) => {\r\n            if (Game.mouseDown) {\r\n                const mouseX = (e.offsetX / Game.scale) + Game.mouseDown.diffX;\r\n                const mouseY = (e.offsetY / Game.scale) + Game.mouseDown.diffY;\r\n                if (Game.canvasDragged) {\r\n                    Game.canvasDragged.x = mouseX;\r\n                    Game.canvasDragged.y = mouseY;\r\n                    Game.canvasDragged.drawWithOpacity = false;\r\n                    Game.mouseDown = null;\r\n                    Game.canvasDragged = null;\r\n                }\r\n            }\r\n        });\r\n        this.canvas.addEventListener('contextmenu', (e) => {\r\n            e.preventDefault();\r\n            const mouseX = e.offsetX / Game.scale;\r\n            const mouseY = e.offsetY / Game.scale;\r\n            for (let i = Game.elements.length - 1; i >= 0; i--) {\r\n                const element = Game.elements[i];\r\n                const x = element.x;\r\n                const y = element.y;\r\n                const outerX = element.x + element.width;\r\n                const outerY = element.y + element.height;\r\n                if ((mouseX >= x && mouseX <= outerX) &&\r\n                    (mouseY >= y && mouseY <= outerY)) {\r\n                    Game.elements.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        window.setInterval(() => {\r\n            window.localStorage.setItem('tempData', JSON.stringify(Game.elements));\r\n        }, 15000);\r\n    }\r\n    loadAssets() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.spritesheet.loadSprites();\r\n        });\r\n    }\r\n}\r\nexports.default = Game;\r\nGame.elements = new Array();\r\n(_a = document.getElementById('btnCreateMap')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', () => {\r\n    const btnCredits = document.getElementById('btnCredits');\r\n    const divInputs = document.getElementById('chooseResolution');\r\n    const divCanvas = document.getElementById('divCanvas');\r\n    const inputWidth = document.getElementById('width');\r\n    const inputHeight = document.getElementById('height');\r\n    const width = parseInt(inputWidth.value);\r\n    const height = parseInt(inputHeight.value);\r\n    if (width && height) {\r\n        btnCredits.style.display = 'block';\r\n        divInputs.style.display = 'none';\r\n        divCanvas.style.display = 'flex';\r\n        new Game(width, height).main();\r\n    }\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GameState = exports.TILE_SIZE = exports.SPRITESHEET = exports.HEIGHT = exports.WIDTH = void 0;\r\nexports.WIDTH = 320;\r\nexports.HEIGHT = 180;\r\nexports.SPRITESHEET = './assets/img/spritesheet.png';\r\nexports.TILE_SIZE = 16;\r\nvar GameState;\r\n(function (GameState) {\r\n    GameState[GameState[\"INITIALIZING\"] = 0] = \"INITIALIZING\";\r\n    GameState[GameState[\"MAINMENU\"] = 1] = \"MAINMENU\";\r\n    GameState[GameState[\"PLAY\"] = 2] = \"PLAY\";\r\n    GameState[GameState[\"CUTSCENE\"] = 3] = \"CUTSCENE\";\r\n    GameState[GameState[\"PAUSEMENU\"] = 4] = \"PAUSEMENU\";\r\n    GameState[GameState[\"ENDING\"] = 5] = \"ENDING\";\r\n})(GameState = exports.GameState || (exports.GameState = {}));\r\n;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst spritesheet_1 = __importDefault(require(\"../graphics/spritesheet\"));\r\nconst main_1 = __importDefault(require(\"../main\"));\r\nclass HTML {\r\n    constructor(scale) {\r\n        this.spanFPS = document.getElementById('fpsCounter');\r\n        this.btnCredits = document.getElementById('btnCredits');\r\n        this.modalCredits = document.getElementById('modalCredits');\r\n        this.btnToggleFPS = document.getElementById('toggleFPS');\r\n        this.elements = document.getElementById('elements');\r\n        this.scale = scale;\r\n        this.spanFPS.style.display = 'none';\r\n        this.modalCredits.style.display = 'none';\r\n        this.initializeEvents();\r\n    }\r\n    initializeEvents() {\r\n        this.btnCredits.addEventListener('click', () => {\r\n            if (this.modalCredits.style.display === 'none') {\r\n                this.modalCredits.style.display = 'block';\r\n            }\r\n            else {\r\n                this.modalCredits.style.display = 'none';\r\n            }\r\n        });\r\n        this.btnToggleFPS.addEventListener('click', () => {\r\n            if (this.spanFPS.style.display === 'block') {\r\n                this.spanFPS.style.display = 'none';\r\n            }\r\n            else {\r\n                this.spanFPS.style.display = 'block';\r\n            }\r\n        });\r\n    }\r\n    createElements() {\r\n        const divBreakWallBefore = document.createElement('div');\r\n        divBreakWallBefore.className = 'break';\r\n        const spanWall = document.createElement('span');\r\n        spanWall.innerHTML = 'Wall:';\r\n        const divBreakWallAfter = document.createElement('div');\r\n        divBreakWallAfter.className = 'break';\r\n        this.elements.append(divBreakWallBefore);\r\n        this.elements.append(spanWall);\r\n        this.elements.append(divBreakWallAfter);\r\n        spritesheet_1.default.wall.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'wall');\r\n        });\r\n        const divBreakFloorBefore = document.createElement('div');\r\n        divBreakFloorBefore.className = 'break';\r\n        const spanFloor = document.createElement('span');\r\n        spanFloor.innerHTML = 'Floor:';\r\n        const divBreakFloorAfter = document.createElement('div');\r\n        divBreakFloorAfter.className = 'break';\r\n        this.elements.append(divBreakFloorBefore);\r\n        this.elements.append(spanFloor);\r\n        this.elements.append(divBreakFloorAfter);\r\n        spritesheet_1.default.floor.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'floor');\r\n        });\r\n        const divBreakInteractableBefore = document.createElement('div');\r\n        divBreakInteractableBefore.className = 'break';\r\n        const spanInteractable = document.createElement('span');\r\n        spanInteractable.innerHTML = 'Interactable:';\r\n        const divBreakInteractableAfter = document.createElement('div');\r\n        divBreakInteractableAfter.className = 'break';\r\n        this.elements.append(divBreakInteractableBefore);\r\n        this.elements.append(spanInteractable);\r\n        this.elements.append(divBreakInteractableAfter);\r\n        spritesheet_1.default.interactable.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'interactable');\r\n        });\r\n        const divBreakInteractableAnimBefore = document.createElement('div');\r\n        divBreakInteractableAnimBefore.className = 'break';\r\n        const spanInteractableAnim = document.createElement('span');\r\n        spanInteractableAnim.innerHTML = 'InteractableAnim:';\r\n        const divBreakInteractableAnimAfter = document.createElement('div');\r\n        divBreakInteractableAnimAfter.className = 'break';\r\n        this.elements.append(divBreakInteractableAnimBefore);\r\n        this.elements.append(spanInteractableAnim);\r\n        this.elements.append(divBreakInteractableAnimAfter);\r\n        spritesheet_1.default.interactableAnim.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'interactableAnim');\r\n        });\r\n        const divBreakDoorsBefore = document.createElement('div');\r\n        divBreakDoorsBefore.className = 'break';\r\n        const spanDoors = document.createElement('span');\r\n        spanDoors.innerHTML = 'Doors:';\r\n        const divBreakDoorsAfter = document.createElement('div');\r\n        divBreakDoorsAfter.className = 'break';\r\n        this.elements.append(divBreakDoorsBefore);\r\n        this.elements.append(spanDoors);\r\n        this.elements.append(divBreakDoorsAfter);\r\n        spritesheet_1.default.doors.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'doors');\r\n        });\r\n        const divBreakWeaponBefore = document.createElement('div');\r\n        divBreakWeaponBefore.className = 'break';\r\n        const spanWeapon = document.createElement('span');\r\n        spanWeapon.innerHTML = 'Weapon:';\r\n        const divBreakWeaponAfter = document.createElement('div');\r\n        divBreakWeaponAfter.className = 'break';\r\n        this.elements.append(divBreakWeaponBefore);\r\n        this.elements.append(spanWeapon);\r\n        this.elements.append(divBreakWeaponAfter);\r\n        spritesheet_1.default.weapon.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'weapon');\r\n        });\r\n        const divBreakPotionBefore = document.createElement('div');\r\n        divBreakPotionBefore.className = 'break';\r\n        const spanPotion = document.createElement('span');\r\n        spanPotion.innerHTML = 'Potion:';\r\n        const divBreakPotionAfter = document.createElement('div');\r\n        divBreakPotionAfter.className = 'break';\r\n        this.elements.append(divBreakPotionBefore);\r\n        this.elements.append(spanPotion);\r\n        this.elements.append(divBreakPotionAfter);\r\n        spritesheet_1.default.potion.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'potion');\r\n        });\r\n        const divBreakEnemyBefore = document.createElement('div');\r\n        divBreakEnemyBefore.className = 'break';\r\n        const spanEnemy = document.createElement('span');\r\n        spanEnemy.innerHTML = 'Enemy:';\r\n        const divBreakEnemyAfter = document.createElement('div');\r\n        divBreakEnemyAfter.className = 'break';\r\n        this.elements.append(divBreakEnemyBefore);\r\n        this.elements.append(spanEnemy);\r\n        this.elements.append(divBreakEnemyAfter);\r\n        spritesheet_1.default.enemy.forEach((sprite, index) => {\r\n            this.appendElements(sprite, index, 'enemy');\r\n        });\r\n        const divBreakPlayerBefore = document.createElement('div');\r\n        divBreakPlayerBefore.className = 'break';\r\n        const spanPlayer = document.createElement('span');\r\n        spanPlayer.innerHTML = 'Player:';\r\n        const divBreakPlayerAfter = document.createElement('div');\r\n        divBreakPlayerAfter.className = 'break';\r\n        this.elements.append(divBreakPlayerBefore);\r\n        this.elements.append(spanPlayer);\r\n        this.elements.append(divBreakPlayerAfter);\r\n        this.appendElements(spritesheet_1.default.player, 0, 'player');\r\n    }\r\n    appendElements(sprite, index, array) {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.draggable = true;\r\n        canvas.width = sprite.sprite.width * this.scale;\r\n        canvas.height = sprite.sprite.height * this.scale;\r\n        canvas.style.margin = '5px';\r\n        canvas.title = sprite.name;\r\n        canvas.id = sprite.name;\r\n        canvas.dataset.index = '' + index;\r\n        canvas.dataset.array = array;\r\n        canvas.addEventListener('dragstart', (e) => {\r\n            main_1.default.dragged = canvas;\r\n            main_1.default.dragEvent = e;\r\n        });\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.scale(this.scale, this.scale);\r\n        ctx.imageSmoothingEnabled = false;\r\n        ctx.drawImage(sprite.sprite, 0, 0);\r\n        this.elements.append(canvas);\r\n    }\r\n}\r\nexports.default = HTML;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Element {\r\n    constructor(x, y, width, height, id, type, sprite, index) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.id = id;\r\n        this.type = type;\r\n        this.sprite = sprite;\r\n        this.index = index;\r\n        this.drawWithOpacity = false;\r\n    }\r\n    tick() {\r\n    }\r\n    render(context2D) {\r\n        if (this.drawWithOpacity) {\r\n            context2D.globalAlpha = 0.5;\r\n            context2D.drawImage(this.sprite, this.x, this.y, this.width, this.height);\r\n            context2D.globalAlpha = 1;\r\n        }\r\n        else {\r\n            context2D.drawImage(this.sprite, this.x, this.y, this.width, this.height);\r\n        }\r\n    }\r\n}\r\nexports.default = Element;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./assets/ts/main.ts\");\n"],"sourceRoot":""}